app:
  replicaCount: 1
  image:
    repository: ghcr.io/doda2025-team14/app
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8080
  ingress:
    enabled: true
    className: "nginx"
    annotations: {}
    hosts:
      - host: team14.local
        paths:
          - path: /
            pathType: Prefix
  resources: {}
  env:
    modelHost: "http://model-service:8081"

  # Canary deployment configuration
  canary:
    enabled: true
    replicaCount: 1
    image:
      repository: ghcr.io/doda2025-team14/app
      tag: experimental
      pullPolicy: IfNotPresent

modelService:
  replicaCount: 1
  image:
    repository: ghcr.io/doda2025-team14/model-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8081
  resources: {}
  env:
    modelUrl: "https://github.com/doda2025-team14/model-service/releases/latest/download/model-release.tar.gz"

istio:
  enabled: true
  useGateway: true
  gateway:
    name: istio-ingressgateway
    selector:
      istio: ingressgateway
    hosts:
      - istio.team14.local
  canary:
    enabled: false
    v1Weight: 90
    v2Weight: 10

# Secret management
secrets:
  # Set to true to create the secret with the chart.
  # Set to false to use an existing secret (pre-deployed).
  create: true
  # The name of the secret to use or create.
  name: app-secrets
  # Data to include in the secret (only used if create is true).
  data:
    apiKey: "change-me-placeholder"

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}
